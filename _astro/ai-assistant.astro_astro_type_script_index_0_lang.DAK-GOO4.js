import{r as o}from"./index.BpawKBta.js";import{a as u}from"./client.Cc-aT41I.js";import{j as t}from"./useTranslations.3K2L2pz4.js";import x from"./Base.DKAQ329-.js";import{I as f}from"./Input.DshfeKVD.js";import{B as h}from"./Button.BrsDPvoC.js";import"./utils.DGTNTuzh.js";import"./auth.service.DyqDjy0G.js";import"./useAuthStore.BcfiTys1.js";import"./CloudIcon.D0Yrbinv.js";import"./EyeIcon.Db-6UeUT.js";import"./GlobeAltIcon.CWucev_G.js";import"./index.BP3dD5_l.js";function g(){const[a,n]=o.useState([]),[r,i]=o.useState(""),[c,l]=o.useState(!1),d=async()=>{if(!r.trim())return;const e=[...a,{role:"user",content:r}];n(e),i(""),l(!0);try{const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(s.ok){const p=await s.json();n([...e,{role:"assistant",content:p.message}])}else console.error("Chat error",await s.text())}catch(s){console.error("Chat request failed",s)}finally{l(!1)}};return t.jsx(x,{children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[t.jsxs("div",{className:"h-96 overflow-y-auto border rounded-md p-4 bg-white dark:bg-gray-800",children:[a.map((e,s)=>t.jsxs("p",{className:e.role==="user"?"text-right":"text-left",children:[t.jsxs("span",{className:"font-semibold mr-1",children:[e.role==="user"?"You":"AI",":"]}),e.content]},s)),c&&t.jsx("p",{children:"..."})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(f,{className:"flex-1",value:r,onChange:e=>i(e.target.value),placeholder:"Ask something..."}),t.jsx(h,{onClick:d,disabled:c||!r.trim(),children:"Send"})]})]})})}const m=document.getElementById("ai-assistant-root");m&&u.createRoot(m).render(o.createElement(g));
