import{u as c,j as e}from"./useTranslations.3K2L2pz4.js";import{r as i}from"./index.BpawKBta.js";import{u as m}from"./useAuthStore.DEd4f2p1.js";import g from"./Base.B7g_CSm6.js";import x from"./DashboardStats.BY5vyBWk.js";import h from"./RecentActivity.CdXYXIxa.js";import y from"./MapContainer.BgujoxKC.js";import{L as u,A as b}from"./Alert.B0cLzLLj.js";import"./auth.service.8-EAQZcQ.js";import"./utils.DGTNTuzh.js";import"./CloudIcon.D0Yrbinv.js";import"./EyeIcon.Db-6UeUT.js";import"./GlobeAltIcon.CWucev_G.js";import"./ExclamationTriangleIcon.DaTtMRx0.js";import"./index.BP3dD5_l.js";const T=()=>{const{user:r,getCurrentUser:a,isLoading:d,error:t}=m(),[n,l]=i.useState(!0),s=c();return i.useEffect(()=>{(async()=>{try{r||await a()}catch(o){console.error("Failed to load user data:",o)}finally{l(!1)}})()},[r,a]),n||d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(u,{size:"lg"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.loading||"Chargement..."})]})}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx(b,{variant:"destructive",children:t})})}):e.jsx(g,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.dashboard||"Tableau de bord"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[r?.firstname&&e.jsxs(e.Fragment,{children:["Bienvenue, ",r.firstname," ",r.lastname," !"," "]}),"Vue d'ensemble de votre surveillance environnementale"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700",children:s.export||"Exporter"}),e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Nouvelle analyse"})]})]}),e.jsx(x,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.map||"Carte interactive"}),e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Plein écran"})]}),e.jsx("div",{className:"h-96",children:e.jsx(y,{})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(h,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tendances climatiques"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Graphique des tendances climatiques"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[s.alerts||"Alertes"," récentes"]}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Liste des alertes récentes"})]})]})]})})};export{T as DashboardPage};
