---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Carte Interactive - EcoWatch">
  <div id="map-root"></div>
</Layout>

<script>
  import MapContainer from "../components/map/MapContainer";
  import Base from "../components/layout/Base";
  import React from "react";
  import { createRoot } from "react-dom/client";

  const MapPage = () => {
    return React.createElement(
      Base,
      { showFooter: false }, // DÃ©sactiver le footer pour cette page
      React.createElement(
        "div",
        {
          className:
            "min-h-[calc(100vh-4rem)] max-h-[calc(100vh-4rem)] p-4 flex flex-col overflow-y-auto",
          style: { height: "calc(100vh - 4rem)" },
        },
        React.createElement(
          "div",
          { className: "flex-1 min-h-0" }, // min-h-0 est crucial pour le flex
          React.createElement(MapContainer, { className: "h-full w-full" })
        )
      )
    );
  };

  const container = document.getElementById("map-root");
  if (container) {
    const root = createRoot(container);
    root.render(React.createElement(MapPage));
  }
</script>
